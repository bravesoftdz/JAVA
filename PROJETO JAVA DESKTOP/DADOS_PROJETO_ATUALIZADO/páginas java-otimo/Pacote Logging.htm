
<!-- saved from url=(0032)http://www.guj.com.br/articles/2 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">


	




<title>GUJ - Utilizando o pacote de Logging</title>
<link href="./Pacote Logging_files/guj3.css" media="screen" rel="stylesheet" type="text/css">

<!-- OAS SETUP begin -->
<script language="JavaScript">
<!--
//configuration
OAS_url = 'http://media.realmedia.com.br/RealMedia/ads/';
OAS_listpos = 'Top,Right,x01,x04';
OAS_query = '';
OAS_sitepage = 'guj/internas';
//end of configuration
OAS_version = 10;
OAS_rn = '001234567890'; OAS_rns = '1234567890';
OAS_rn = new String (Math.random()); OAS_rns = OAS_rn.substring (2, 11);
function OAS_NORMAL(pos) {
	document.write('<A HREF="' + OAS_url + 'click_nx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + '!' + pos + OAS_query + '" TARGET=_top>');
	document.write('<IMG SRC="' + OAS_url + 'adstream_nx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + '!' + pos + OAS_query + '" BORDER=0></A>');
}
//-->
</script>
<script language="JavaScript">
<!--
OAS_version = 11;
if (navigator.userAgent.indexOf('Mozilla/3') != -1)
OAS_version = 10;
if (OAS_version >= 11)
document.write('<SCR'+ 'IPT LANGUAGE=JavaScript1.1 SRC="' + OAS_url + 'adstream_mjx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + OAS_query + '"></SC'+'RIPT>');
//-->
</script><script language="JavaScript1.1" src="./Pacote Logging_files/1841055227@Top,Right,x01,x04"></script><script language="JavaScript">
<!-- 
document.write('')
function OAS_AD(pos) {
if (OAS_version >= 11)
	OAS_RICH(pos);
else
	OAS_NORMAL(pos);
}
//-->
</script>
<!-- OAS SETUP end -->
<!--[if IE]>
<link href="/stylesheets/guj3-ie.css?20090222" media="screen" rel="stylesheet" type="text/css" />
<![endif]-->
<script type="text/javascript" src="./Pacote Logging_files/jquery-1.3.1.min.js"></script>
<script type="text/javascript" src="./Pacote Logging_files/jquery.dimensions.min.js"></script>
<script type="text/javascript">
$().ready(function() {
	$("#returnPath").val(document.location);
});
</script>
<style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><link rel="stylesheet" type="text/css" href="chrome-extension://knnjalkmmdbjmbnkdolelamkbnjoohbe/css/about.css"></head><style type="text/css" id="CWToolbarStyle">html { padding-top: 34px !important;}</style>

<body>
  <div id="header">
    <div class="container1">
    	<div id="banner">
			<!-- OAS AD 'Top' begin -->
			<script language="JavaScript">
			<!--
			OAS_AD('Top');
			//-->
			</script><!-- begin ad tag -->
<script type="text/javascript">
//<![CDATA[
ord=Math.random()*10000000000000000;
document.write('<script type="text/javascript" src="http://ad.doubleclick.net/adj/guj/;fiap=gujsuper;sz=728x90;click0=http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/1419024525/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?;ord=1419024525' + ord + '?"><\/script>');
//]]>
</script><script type="text/javascript" src="./Pacote Logging_files/;fiap=gujsuper;sz=728x90"></script>
<!-- Copyright DoubleClick Inc., All rights reserved. -->
<!-- This code was autogenerated @ Mon Jun 27 11:14:10 EDT 2011 -->
<script src="./Pacote Logging_files/flashwrite_1_2.js"></script>
  
<div style="padding:0px;border:0px;margin:0px;overflow:hidden;width:728px;height=90px;position:relative"> <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="FLASH_AD" width="728" height="90"><param name="movie" value="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.swf"><param name="quality" value="high"><param name="bgcolor" value="#"><param name="wmode" value="opaque"><param name="AllowScriptAccess" value="never"><embed src="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.swf" quality="high" wmode="opaque" swliveconnect="TRUE" width="728" height="90" bgcolor="#" type="application/x-shockwave-flash" allowscriptaccess="never"></object> <div style="z-index:9999;padding:0px;border:0px;margin:0px;overflow:hidden;width:728px;height=90px;position:absolute;top:0px;left:0px"><a target="_blank" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3b56/17/c0/%2a/y%3B242120798%3B0-0%3B1%3B50082471%3B3454-728/90%3B42819652/42837439/1%3B%3B~sscs%3D%3fhttp://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/1419024525/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://www.fiap.com.br/mba2011/index.html?utm_source=guj&utm_medium=super_banner&utm_term=neuronio-2&utm_content=inscreva-se&utm_campaign=pos2011-2"><img src="./Pacote Logging_files/dot.gif" border="0" width="728" height="90"></a></div></div>
<noscript>&lt;a target="_blank" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3b56/17/c0/%2a/y%3B242120798%3B0-0%3B1%3B50082471%3B3454-728/90%3B42819652/42837439/1%3B%3B%7Esscs%3D%3fhttp://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/1419024525/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://www.fiap.com.br/mba2011/index.html?utm_source=guj&amp;utm_medium=super_banner&amp;utm_term=neuronio-2&amp;utm_content=inscreva-se&amp;utm_campaign=pos2011-2"&gt;&lt;img src="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.gif"  border="0" alt="" &gt;&lt;/a&gt;</noscript>
<noscript>&lt;a href="http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/1419024525/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://ad.doubleclick.net/jump/guj/;fiap=gujsuper;sz=728x90;ord=1419024525?" target="_blank" &gt;&lt;img src="http://ad.doubleclick.net/ad/guj/;fiap=gujsuper;sz=728x90;ord=1419024525?" border="0" alt="" /&gt;&lt;/a&gt;</noscript>
<!-- end ad tag --> 
			<!-- OAS AD 'Top' end -->
    	</div>
      <div class="container2">
        <a href="http://www.guj.com.br/" id="logo">GUJ</a>
        <h2>Notícias, artigos e o maior fórum brasileiro sobre Java</h2>
      </div>
    </div>
  </div>

  <div id="menu">
    <ul>
      <li class="home">
        <a href="http://www.guj.com.br/">home</a>
      </li>
      <li class="forum">
        <a href="http://www.guj.com.br/forums/list.java">fórum</a>
      </li>
      
      <li class="noticias">
        <a href="http://www.guj.com.br/noticias">notícias</a>
      </li>
      
      <li class="topics">
        <a href="http://www.guj.com.br/recentTopics/list.java">tópicos recentes</a>
      </li>
        
      <li class="empregos">
		<a href="http://www.guj.com.br/jobs">empregos</a>
      </li>
    
      <li class="artigos">
      	<a href="http://www.guj.com.br/articles">artigos</a>
      </li>
    	<!--
      <li class="blogs">
        <a href="/posts">blogs</a>
      </li>
      -->
    </ul>
    
    <form action="http://www.guj.com.br/search" id="cse-search-box" class="busca">
	    <input type="hidden" name="cx" value="partner-pub-9448585618971060:4001950301">
	    <input type="hidden" name="cof" value="FORID:10">
	    <input type="hidden" name="ie" value="UTF-8">
	    <input class="campo_rounded" type="text" name="q" size="31" tabindex="1" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com.br/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; ">
	    <input type="image" class="botao" style="border: 0px;" src="./Pacote Logging_files/botao_ok.gif" tabindex="2">
	<input name="siteurl" type="hidden" value="www.guj.com.br/articles/2"></form>

<script type="text/javascript" src="./Pacote Logging_files/brand"></script>
	<iframe src="./Pacote Logging_files/like.htm" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:200px; height:21px; position:relative; top:7px;" allowtransparency="true"></iframe>
  </div>
  
  <div id="submenu">
    <div class="container1">
      <div class="container2">
          
      	
      		
	      	  <a id="myprofile" class="mainmenu" href="http://www.guj.com.br/user/edit/132475.java"><img src="./Pacote Logging_files/icon_mini_profile.gif" border="0" alt="[Profile]"> MEUS DADOS</a>&nbsp; 
              <a id="privatemessages" class="mainmenu" href="http://www.guj.com.br/pm/inbox.java"><img src="./Pacote Logging_files/icon_mini_message.gif" border="0" alt="[Message]">
                MENSAGENS PRIVADAS (0)
              </a>&nbsp;
              <a id="mymessages" class="mainmenu" href="http://www.guj.com.br/posts/listByUser/132475.java"><img src="./Pacote Logging_files/icon_mini_message.gif" border="0" alt="Minhas Mensagens">
                MINHAS MENSAGENS
              </a>&nbsp;
              <a id="favorites" class="mainmenu" href="http://www.guj.com.br/bookmarks/list/132475.java"><img src="./Pacote Logging_files/icon_mini_message.gif" border="0" alt="Favoritos">
                   FAVORITOS
              </a>&nbsp;
            
            	
            		<a id="newsletter" class="mainmenu" href="http://www.guj.com.br/articles/2#" onclick="$(&#39;#menuNewsletter&#39;).slideToggle(&#39;slow&#39;);"><img src="./Pacote Logging_files/icon_mini_message.gif" border="0" alt="Favoritos"> NEWSLETTER <span class="novo">(novo)</span></a>
	      		
            
	      	  <a href="http://www.guj.com.br/user/logout.java"><img src="./Pacote Logging_files/icon_mini_login.gif" border="0" alt="Logout"> LOGOUT</a> 
      		
      		
      	
      </div>
    </div>
  </div>

  
	  <div id="menuNewsletter" style="">
		 <div style="float:left; margin-top:5px;">
	  		Para participar da newsletter com o e-mail <strong>jorgelferrari@gmail.com</strong>, <a href="http://www.guj.com.br/newsletter/?_method=POST&gujUserId=132475">clique aqui</a>, ou acesse <a href="http://www.guj.com.br/user/edit/132475.java">seu cadastro</a> para modificar seu e-mail.
	  	 </div>
	  	 <div style="text-align:center; float:right; padding:5px;">
	  	 	<a href="http://www.guj.com.br/articles/2#" onclick="escondeNewsletter();"><img src="./Pacote Logging_files/cancel_16.png" border="0"></a>
	  	 </div>
	  </div>
	  
	  
	  <script language="javascript">
		function newsletterCookieHidden() {
			return readCookie('gujNewsletterMenu')=='hidden';
		}
		
		function readCookie(name) {
			var nameEQ = name + "=";
			var ca = document.cookie.split(';');
			for(var i=0;i < ca.length;i++) {
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1,c.length);
				if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
			}
			return null;
		}
		
		if (!newsletterCookieHidden()) {
			$("#menuNewsletter").attr("style","");
		}
		
		function escondeNewsletter() {
			$('#menuNewsletter').slideToggle('slow');
			if (!newsletterCookieHidden()){
				document.cookie='gujNewsletterMenu=hidden;path=/';
			}
		}
		</script>
  
  

<link href="./Pacote Logging_files/SyntaxHighlighter.css" media="screen" rel="stylesheet" type="text/css">
<style type="text/css">@import url(/stylesheets/tagging.css);</style>
<script src="./Pacote Logging_files/shCore.js" type="text/javascript"></script>
<script src="./Pacote Logging_files/shBrushJava.js" type="text/javascript"></script>

<script type="text/javascript">
window.onload = function () {
	dp.SyntaxHighlighter.HighlightAll('code');
}
</script>

<div id="content">
<div class="box">
<b class="spiffy"><b class="spiffy1"><b></b></b><b class="spiffy2"><b></b></b><b class="spiffy3"></b><b class="spiffy4"></b><b class="spiffy5"></b></b>
	<div class="spiffyfg inner-content">
  <span class="article">
    <h2><a href="http://www.guj.com.br/articles/2#">Utilizando o pacote de Logging</a>
    </h2>
  </span>
  
  <div class="miolo">
    <span class="data">em 17/08/2002</span>
    <span class="autor">, por <a href="mailto:paulo@paulo.com.br">Paulo Silveira</a></span>
    <br>
  
    
	    <div style="float: left; padding: 10px;">
			<script type="text/javascript"><!--
			google_ad_client = "pub-7098584793170190";
			/* GUJ Quadrado Artigos */
			google_ad_slot = "2113535366";
			google_ad_width = 300;
			google_ad_height = 250;
			//-->
			</script> 
			<script type="text/javascript" src="./Pacote Logging_files/show_ads.js"> 
			</script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><iframe allowtransparency="true" frameborder="0" height="250" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="300" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
		</div>
	      
	      <span class="content"><page>
<div id="subtitle"><b>Introdução</b></div>
Muitos se perguntam porque tanta gente adere a um sistema de logging, gravando mensagens e avisos durante a execução de seu programa.

Brian W. Kernighan, um dos criadores da linguagem C, escreveu em seu livro "The Practice of Programming" a seguinte frase:

  "<i>As personal choice, we tend not to use debuggers beyond getting a stack trace or the value of a variable or two. One reason is that it is easy to get lost in details of complicated data structures and  control flow; we find stepping through a program less productive  than thinking harder and adding output statements and self-checking  code at critical places. Clicking over statements takes longer than  scanning the output of judiciously-placed displays. It takes less  time to decide where to put print statements than to single-step to  the critical section of code, even assuming we know where that  is. More important, debugging statements stay with the program;  debugging sessions are transient</i>."

traduzindo:

  "<i>Como uma opção pessoal, nós não usamos debuggers para algo mais que  pegar uma stracktrace ou o valor de uma ou duas variáveis. Uma das rezões  é que é muito fácil você se perder em detalhes de complicadas estruturas de  dados e de fluxo de controle; nós achamos que percorrer um programa é menos  produtivo que pensar bastante e adicionar comandos de saída e código para  assegurar o estado do programa em lugares críticos. Toma menos tempo  decidir onde colocar comandos de impressão do que pular para a parte do código que é crítica, mesmo assumindo que nós sabemos onde ela está. Mais importante,   comandos de debug (leia-se comandos de logging) ficam no programa; sessões de debug são transientes.</i>"

Neste tutorial, iremos ver a API do pacote <i>java.util.logging</i>, e suas principais classes. No final deste tutorial, você saberá utilizar um <i>Logger</i> e como formatar e direcionar sua saída.

Lembre-se que esta API é nova, e você precisa do J2SE 1.4 ou superior.
</page>
<page>
<div id="subtitle"><b>Utilizando o pacote</b></div>
A Api de Logging da SUN tem um ebasamento hierárquico. Cada <i>Logger</i> possui um nome, e este <i>Logger</i> herda todas as configurações do seu "pai".

A SUN recomenda que você utilize o nome dos Loggers iguais ao nome do seu pacote, mas não é obrigatório. Com isso, o <i>Logger</i> "br.com.guj.model" herda todas as configurações do Logger "br.com.guj". Todos os Loggers herdam do <i>Logger</i> "".

Um <i>Logger</i> possui um LogginLevel, que define qual é o nível mínimo que uma mensagem deve ter para que ele a publique. Por exemplo, se você tem um <i>Logger</i> que só recebe informações do tipo "warning" para cima, ele vai ignorar uma mensagem do tipo "fine".

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Logger&nbsp;logger&nbsp;=&nbsp;Logger.getLogger(</span><span class="string">"br.com.guj.model"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>logger.warning(<span class="string">"o&nbsp;pool&nbsp;de&nbsp;conexões&nbsp;está&nbsp;vazio"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">	Logger logger = Logger.getLogger("br.com.guj.model");
	logger.warning("o pool de conexões está vazio");
</textarea> <br>

Isto irá produzir a seguinte saída para a tela:

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Aug&nbsp;</span><span class="number">17</span><span>,&nbsp;</span><span class="number">2002</span><span>&nbsp;</span><span class="number">5</span><span>:</span><span class="number">32</span><span>:</span><span class="number">14</span><span>&nbsp;PM&nbsp;LoggerTest&nbsp;main&nbsp;&nbsp;</span></span></li><li class=""><span>WARNING:&nbsp;o&nbsp;pool&nbsp;de&nbsp;conexoes&nbsp;esta&nbsp;vazio&nbsp;&nbsp;</span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">Aug 17, 2002 5:32:14 PM LoggerTest main
WARNING: o pool de conexoes esta vazio
</textarea> <br>

A API tenta te falar exatamente onde ocorreu o Logger, mas a própria SUN diz que isto pode não funcionar perfeitamente, devido a otimizações realizadas pela Virtual Machine.

O <i>Logger</i> possui diferentes métodos para fazer o Log, a ordem do grau de importância é este: SEVERE (highest value) 

<li>WARNING - <i>logger.warning(String)</i>
</li><li>INFO - <i>logger.info(String)</i>
</li><li>CONFIG - <i>logger.config(String)</i>
</li><li>FINE - <i>logger.fine(String)</i>
</li><li>FINER - <i>logger.finer(String)</i>
</li><li>FINEST - <i>logger.finest(String)</i>

<page>
O Log do exemplo anterior foi para a saída padrão pois este é o <i>Handler</i> padrão. Você pode configurar qual <i>Handler</i> você deseja usar. Existem vários <i>Handler</i>s, vamos ver o mais utilizado, que é o de arquivos:

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>FileHandler&nbsp;fh&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;FileHandler(</span><span class="string">"log.txt"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>logger.addHandler(fh);&nbsp;&nbsp;</span></li><li class="alt"><span>logger.info(<span class="string">"testando&nbsp;arquivo"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">	FileHandler fh = new FileHandler("log.txt");
	logger.addHandler(fh);
	logger.info("testando arquivo");
</textarea> <br>

Pelo construtor do <i>FileHandler</i>, você ainda pode definir o máximo de bytes que o arquivo de log pode usar, e quantos arquivos ele pode criar.

Você também pode configurar qual o tipo mínimo de severidade da mensagem que deve ser logada, utilizando o método <i>setLevel(Level)</i> da classe <i>Handler</i>, ou da própria classe <i>Logger</i>, impedindo que a mensagem seja publicada para os seus <i>Handler</i>s.

Verifique a saída do log.txt:

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>&lt;?xml&nbsp;version=</span><span class="string">"1.0"</span><span>&nbsp;encoding=</span><span class="string">"windows-1252"</span><span>&nbsp;standalone=</span><span class="string">"no"</span><span>?&gt;&nbsp;&nbsp;</span></span></li><li class=""><span>&lt;!DOCTYPE&nbsp;log&nbsp;SYSTEM&nbsp;<span class="string">"logger.dtd"</span><span>&gt;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&lt;log&gt;&nbsp;&nbsp;</span></li><li class=""><span>&lt;record&gt;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;date&gt;<span class="number">2002</span><span>-</span><span class="number">08</span><span>-17T18:</span><span class="number">09</span><span>:</span><span class="number">12</span><span>&lt;/date&gt;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;millis&gt;<span class="number">1029618552803</span><span>&lt;/millis&gt;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;sequence&gt;<span class="number">1</span><span>&lt;/sequence&gt;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;logger&gt;br.com.guj.model&lt;/logger&gt;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;level&gt;INFO&lt;/level&gt;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="keyword">class</span><span>&gt;LoggerTest&lt;/</span><span class="keyword">class</span><span>&gt;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;method&gt;main&lt;/method&gt;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;thread&gt;<span class="number">10</span><span>&lt;/thread&gt;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;message&gt;testando&nbsp;arquivo&lt;/message&gt;&nbsp;&nbsp;</span></li><li class=""><span>&lt;/record&gt;&nbsp;&nbsp;</span></li><li class="alt"><span>&lt;/log&gt;&nbsp;&nbsp;</span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">&lt;?xml version="1.0" encoding="windows-1252" standalone="no"?&gt;
&lt;!DOCTYPE log SYSTEM "logger.dtd"&gt;
&lt;log&gt;
&lt;record&gt;
	&lt;date&gt;2002-08-17T18:09:12&lt;/date&gt;
	&lt;millis&gt;1029618552803&lt;/millis&gt;
	&lt;sequence&gt;1&lt;/sequence&gt;
	&lt;logger&gt;br.com.guj.model&lt;/logger&gt;
	&lt;level&gt;INFO&lt;/level&gt;
	&lt;class&gt;LoggerTest&lt;/class&gt;
	&lt;method&gt;main&lt;/method&gt;
	&lt;thread&gt;10&lt;/thread&gt;
	&lt;message&gt;testando arquivo&lt;/message&gt;
&lt;/record&gt;
&lt;/log&gt;
</textarea> <br>

Além disso, também foi logado para a saída padrão, pois o <i>Logger</i> raiz ("") tem um <i>Handler</i> para a sáida de erro padrão. Para evitar isto, você pode remover este <i>Handler</i>, ou então utilizar um <i>AnonymousLogger</i>, utilizando o método <i>Logger.getAnonymousLogger()</i>.
</page>
<page>
A saída em XML é interessante, mas as vezes você pode desejar uma sáida menor para o arquivo:

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/2#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>FileHandler&nbsp;fh&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;FileHandler(</span><span class="string">"log.txt"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>fh.setFormatter(<span class="keyword">new</span><span>&nbsp;SimpleFormatter());&nbsp;&nbsp;</span></span></li><li class="alt"><span>logger.addHandler(fh);&nbsp;&nbsp;</span></li><li class=""><span>logger.info(<span class="string">"testando&nbsp;arquivo"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">		FileHandler fh = new FileHandler("log.txt");
		fh.setFormatter(new SimpleFormatter());
		logger.addHandler(fh);
		logger.info("testando arquivo");
</textarea> <br>

Não existem outros formatadores, além do de XML e deste simples, mas você pode criar o seu próprio extendendo a classe <i>Formatter</i>.

Se você fez este teste em sequÊncia do anterior, irá perceber que o arquivo de log foi reescrito, para evitar isto, o <i>FileHandler</i> possui um construtor que permite você especificar se ele deve fazer um append (continuar de onde parou) ou não.

<div id="subtitle"><b>Conclusão</b></div>
Esta nova API possui outros recursos mais avançados, você pode consultar o javadoc dela para maiores informações. Ou este <a href="http://java.sun.com/j2se/1.4/docs/guide/util/logging/overview.html">link</a> para um tipo de tutorial.

O sistema de hierarquia desta API é algo que deve ser explorado para obter o melhor resultado.

A API é muito rápida, gastando muito pouco tempo de processamento. Você também pode utilizar arquivos de configuração, desligando o sistema de logging ou ligando-o, sem ter de mexer no fonte.

<div id="subtitle"><b>Porque não usar o Log4J?</b></div>
O <a href="http://jakarta.apache.org/log4j">Log4J</a> é mais um projeto de sucesso do grupo Jakarta, e nasceu muito antes que a API de loggind do J2SE 1.4.

Muitas pessoas utilizam o Log4J desde então, o que torna difícil a migração de uma API para a outra, devido a familiarização com o Log4J. O Log4J é considerado melhor e mais completo que a API do J2SE em muitos aspectos, e a vantagem da API da SUN é a própria simplicidade.

Uma grande vantagem do Log4j, é que ele já possui um simples sistema que permite você direcionar a saida do Log para o banco de dados, especificando o comando de <i>INSERT</i> que deve ser executado. Para fazer isso utilizando a API da Sun, você precisará criar um novo <i>Handler</i>.

A escolha cabe a você.
</page>
    

    <span class="pdf">
    
    </span>
  </li></page></span></div>
  </div>
	<b class="spiffy"><b class="spiffy5"></b><b class="spiffy4"></b><b class="spiffy3"></b><b class="spiffy2"><b></b></b><b class="spiffy1"><b></b></b></b>
</div>

</div>


<!-- OAS AD 'x01' begin -->
<script language="JavaScript">
<!--
OAS_AD('x01');
//-->
</script><a href="http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/2094603875/x01/default/empty.gif/76556850786b3433424b5141416b3576" target="_top"><img src="./Pacote Logging_files/empty.gif" width="1" height="1" alt="" border="0"></a>
<!-- OAS AD 'x01' end -->

<iframe src="./Pacote Logging_files/ping_session.htm" height="0" width="0" frameborder="0" scrolling="no"></iframe>
  <div id="footer">
  	<p>Apoiado e desenvolvido por <a href="http://www.caelum.com.br/">Caelum Cursos Java</a> - GUJ: desde 2002 <br> Conheça também <a href="http://www.agendatech.com.br/">AgendaTech</a>, <a href="http://www.tectura.com.br/">Tectura</a>, <a href="http://www.programadorpoliglota.com.br/">Programador Poliglota</a> e <a href="http://www.infoq.com/br">InfoQ Brasil</a>&nbsp;</p>
  </div>
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Pacote Logging_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-132222-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  

<div class="SkipThisFixedPosition top-iframe-wrapper" style="width: 100%; height: 34px; position: fixed; top: 0px !important; left: 0px; z-index: 99997; "><iframe style="width:100%;height:34px;top:0px;left:0px;" src="./Pacote Logging_files/container.htm" scrolling="no" class="toolbarContainer" frameborder="0px" id="CWTBiframe0"></iframe></div><div id="mainContainer_CTID"><div class="fixedDiv SkipThisFixedPosition UrlGadgetsDiv" style="position: fixed; left: 0px; top: 34px !important; z-index: 2147483640; "></div><div class="fixedDiv SkipThisFixedPosition GeneralGadgetsDiv" style="position: fixed; left: 0px; top: 34px !important; z-index: 2147483640; width: 100%; "></div></div></body></html>