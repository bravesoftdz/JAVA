
<!-- saved from url=(0033)http://www.guj.com.br/articles/21 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">


	




<title>GUJ - Enviando emails com Java</title>
<link href="./Enviando Emails_files/guj3.css" media="screen" rel="stylesheet" type="text/css">

<!-- OAS SETUP begin -->
<script language="JavaScript">
<!--
//configuration
OAS_url = 'http://media.realmedia.com.br/RealMedia/ads/';
OAS_listpos = 'Top,Right,x01,x04';
OAS_query = '';
OAS_sitepage = 'guj/internas';
//end of configuration
OAS_version = 10;
OAS_rn = '001234567890'; OAS_rns = '1234567890';
OAS_rn = new String (Math.random()); OAS_rns = OAS_rn.substring (2, 11);
function OAS_NORMAL(pos) {
	document.write('<A HREF="' + OAS_url + 'click_nx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + '!' + pos + OAS_query + '" TARGET=_top>');
	document.write('<IMG SRC="' + OAS_url + 'adstream_nx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + '!' + pos + OAS_query + '" BORDER=0></A>');
}
//-->
</script>
<script language="JavaScript">
<!--
OAS_version = 11;
if (navigator.userAgent.indexOf('Mozilla/3') != -1)
OAS_version = 10;
if (OAS_version >= 11)
document.write('<SCR'+ 'IPT LANGUAGE=JavaScript1.1 SRC="' + OAS_url + 'adstream_mjx.ads/' + OAS_sitepage + '/1' + OAS_rns + '@' + OAS_listpos + OAS_query + '"></SC'+'RIPT>');
//-->
</script><script language="JavaScript1.1" src="./Enviando Emails_files/1889317794@Top,Right,x01,x04"></script><script language="JavaScript">
<!-- 
document.write('')
function OAS_AD(pos) {
if (OAS_version >= 11)
	OAS_RICH(pos);
else
	OAS_NORMAL(pos);
}
//-->
</script>
<!-- OAS SETUP end -->
<!--[if IE]>
<link href="/stylesheets/guj3-ie.css?20090222" media="screen" rel="stylesheet" type="text/css" />
<![endif]-->
<script type="text/javascript" src="./Enviando Emails_files/jquery-1.3.1.min.js"></script>
<script type="text/javascript" src="./Enviando Emails_files/jquery.dimensions.min.js"></script>
<script type="text/javascript">
$().ready(function() {
	$("#returnPath").val(document.location);
});
</script>
<style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><style type="text/css">.dp-j .annotation { color: #646464; }.dp-j .number { color: #C00000; }</style><link rel="stylesheet" type="text/css" href="chrome-extension://knnjalkmmdbjmbnkdolelamkbnjoohbe/css/about.css"></head><style type="text/css" id="CWToolbarStyle">html { padding-top: 34px !important;}</style>

<body>
  <div id="header">
    <div class="container1">
    	<div id="banner">
			<!-- OAS AD 'Top' begin -->
			<script language="JavaScript">
			<!--
			OAS_AD('Top');
			//-->
			</script><!-- begin ad tag -->
<script type="text/javascript">
//<![CDATA[
ord=Math.random()*10000000000000000;
document.write('<script type="text/javascript" src="http://ad.doubleclick.net/adj/guj/;fiap=gujsuper;sz=728x90;click0=http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/777152939/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?;ord=777152939' + ord + '?"><\/script>');
//]]>
</script><script type="text/javascript" src="./Enviando Emails_files/;fiap=gujsuper;sz=728x90"></script>
<!-- Copyright DoubleClick Inc., All rights reserved. -->
<!-- This code was autogenerated @ Mon Jun 27 11:14:10 EDT 2011 -->
<script src="./Enviando Emails_files/flashwrite_1_2.js"></script>
  
<div style="padding:0px;border:0px;margin:0px;overflow:hidden;width:728px;height=90px;position:relative"> <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="FLASH_AD" width="728" height="90"><param name="movie" value="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.swf"><param name="quality" value="high"><param name="bgcolor" value="#"><param name="wmode" value="opaque"><param name="AllowScriptAccess" value="never"><embed src="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.swf" quality="high" wmode="opaque" swliveconnect="TRUE" width="728" height="90" bgcolor="#" type="application/x-shockwave-flash" allowscriptaccess="never"></object> <div style="z-index:9999;padding:0px;border:0px;margin:0px;overflow:hidden;width:728px;height=90px;position:absolute;top:0px;left:0px"><a target="_blank" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3b56/17/bf/%2a/y%3B242120798%3B0-0%3B1%3B50082471%3B3454-728/90%3B42819652/42837439/1%3B%3B~sscs%3D%3fhttp://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/777152939/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://www.fiap.com.br/mba2011/index.html?utm_source=guj&utm_medium=super_banner&utm_term=neuronio-2&utm_content=inscreva-se&utm_campaign=pos2011-2"><img src="./Enviando Emails_files/dot.gif" border="0" width="728" height="90"></a></div></div>
<noscript>&lt;a target="_blank" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3b56/17/bf/%2a/y%3B242120798%3B0-0%3B1%3B50082471%3B3454-728/90%3B42819652/42837439/1%3B%3B%7Esscs%3D%3fhttp://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/777152939/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://www.fiap.com.br/mba2011/index.html?utm_source=guj&amp;utm_medium=super_banner&amp;utm_term=neuronio-2&amp;utm_content=inscreva-se&amp;utm_campaign=pos2011-2"&gt;&lt;img src="http://s0.2mdn.net/2824562/2011_05_super_banner_mba.gif"  border="0" alt="" &gt;&lt;/a&gt;</noscript>
<noscript>&lt;a href="http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/L12/777152939/Top/rmlanetwork/110602_fiapmba_guj/fiapmba_guj_home_int_super_110602.html/76556850786b3433424b5141416b3576?http://ad.doubleclick.net/jump/guj/;fiap=gujsuper;sz=728x90;ord=777152939?" target="_blank" &gt;&lt;img src="http://ad.doubleclick.net/ad/guj/;fiap=gujsuper;sz=728x90;ord=777152939?" border="0" alt="" /&gt;&lt;/a&gt;</noscript>
<!-- end ad tag --> 
			<!-- OAS AD 'Top' end -->
    	</div>
      <div class="container2">
        <a href="http://www.guj.com.br/" id="logo">GUJ</a>
        <h2>Notícias, artigos e o maior fórum brasileiro sobre Java</h2>
      </div>
    </div>
  </div>

  <div id="menu">
    <ul>
      <li class="home">
        <a href="http://www.guj.com.br/">home</a>
      </li>
      <li class="forum">
        <a href="http://www.guj.com.br/forums/list.java">fórum</a>
      </li>
      
      <li class="noticias">
        <a href="http://www.guj.com.br/noticias">notícias</a>
      </li>
      
      <li class="topics">
        <a href="http://www.guj.com.br/recentTopics/list.java">tópicos recentes</a>
      </li>
        
      <li class="empregos">
		<a href="http://www.guj.com.br/jobs">empregos</a>
      </li>
    
      <li class="artigos">
      	<a href="http://www.guj.com.br/articles">artigos</a>
      </li>
    	<!--
      <li class="blogs">
        <a href="/posts">blogs</a>
      </li>
      -->
    </ul>
    
    <form action="http://www.guj.com.br/search" id="cse-search-box" class="busca">
	    <input type="hidden" name="cx" value="partner-pub-9448585618971060:4001950301">
	    <input type="hidden" name="cof" value="FORID:10">
	    <input type="hidden" name="ie" value="UTF-8">
	    <input class="campo_rounded" type="text" name="q" size="31" tabindex="1" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com.br/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; ">
	    <input type="image" class="botao" style="border: 0px;" src="./Enviando Emails_files/botao_ok.gif" tabindex="2">
	<input name="siteurl" type="hidden" value="www.guj.com.br/articles/21"></form>

<script type="text/javascript" src="./Enviando Emails_files/brand"></script>
	<iframe src="./Enviando Emails_files/like.htm" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:200px; height:21px; position:relative; top:7px;" allowtransparency="true"></iframe>
  </div>
  
  <div id="submenu">
    <div class="container1">
      <div class="container2">
          
      	
      		
	      	  <a id="myprofile" class="mainmenu" href="http://www.guj.com.br/user/edit/132475.java"><img src="./Enviando Emails_files/icon_mini_profile.gif" border="0" alt="[Profile]"> MEUS DADOS</a>&nbsp; 
              <a id="privatemessages" class="mainmenu" href="http://www.guj.com.br/pm/inbox.java"><img src="./Enviando Emails_files/icon_mini_message.gif" border="0" alt="[Message]">
                MENSAGENS PRIVADAS (0)
              </a>&nbsp;
              <a id="mymessages" class="mainmenu" href="http://www.guj.com.br/posts/listByUser/132475.java"><img src="./Enviando Emails_files/icon_mini_message.gif" border="0" alt="Minhas Mensagens">
                MINHAS MENSAGENS
              </a>&nbsp;
              <a id="favorites" class="mainmenu" href="http://www.guj.com.br/bookmarks/list/132475.java"><img src="./Enviando Emails_files/icon_mini_message.gif" border="0" alt="Favoritos">
                   FAVORITOS
              </a>&nbsp;
            
            	
            		<a id="newsletter" class="mainmenu" href="http://www.guj.com.br/articles/21#" onclick="$(&#39;#menuNewsletter&#39;).slideToggle(&#39;slow&#39;);"><img src="./Enviando Emails_files/icon_mini_message.gif" border="0" alt="Favoritos"> NEWSLETTER <span class="novo">(novo)</span></a>
	      		
            
	      	  <a href="http://www.guj.com.br/user/logout.java"><img src="./Enviando Emails_files/icon_mini_login.gif" border="0" alt="Logout"> LOGOUT</a> 
      		
      		
      	
      </div>
    </div>
  </div>

  
	  <div id="menuNewsletter" style="">
		 <div style="float:left; margin-top:5px;">
	  		Para participar da newsletter com o e-mail <strong>jorgelferrari@gmail.com</strong>, <a href="http://www.guj.com.br/newsletter/?_method=POST&gujUserId=132475">clique aqui</a>, ou acesse <a href="http://www.guj.com.br/user/edit/132475.java">seu cadastro</a> para modificar seu e-mail.
	  	 </div>
	  	 <div style="text-align:center; float:right; padding:5px;">
	  	 	<a href="http://www.guj.com.br/articles/21#" onclick="escondeNewsletter();"><img src="./Enviando Emails_files/cancel_16.png" border="0"></a>
	  	 </div>
	  </div>
	  
	  
	  <script language="javascript">
		function newsletterCookieHidden() {
			return readCookie('gujNewsletterMenu')=='hidden';
		}
		
		function readCookie(name) {
			var nameEQ = name + "=";
			var ca = document.cookie.split(';');
			for(var i=0;i < ca.length;i++) {
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1,c.length);
				if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
			}
			return null;
		}
		
		if (!newsletterCookieHidden()) {
			$("#menuNewsletter").attr("style","");
		}
		
		function escondeNewsletter() {
			$('#menuNewsletter').slideToggle('slow');
			if (!newsletterCookieHidden()){
				document.cookie='gujNewsletterMenu=hidden;path=/';
			}
		}
		</script>
  
  

<link href="./Enviando Emails_files/SyntaxHighlighter.css" media="screen" rel="stylesheet" type="text/css">
<style type="text/css">@import url(/stylesheets/tagging.css);</style>
<script src="./Enviando Emails_files/shCore.js" type="text/javascript"></script>
<script src="./Enviando Emails_files/shBrushJava.js" type="text/javascript"></script>

<script type="text/javascript">
window.onload = function () {
	dp.SyntaxHighlighter.HighlightAll('code');
}
</script>

<div id="content">
<div class="box">
<b class="spiffy"><b class="spiffy1"><b></b></b><b class="spiffy2"><b></b></b><b class="spiffy3"></b><b class="spiffy4"></b><b class="spiffy5"></b></b>
	<div class="spiffyfg inner-content">
  <span class="article">
    <h2><a href="http://www.guj.com.br/articles/21#">Enviando emails com Java</a>
    </h2>
  </span>
  
  <div class="miolo">
    <span class="data">em 21/10/2002</span>
    <span class="autor">, por <a href="mailto:paulo@paulo.com.br">Paulo Silveira</a></span>
    <br>
  
    
	    <div style="float: left; padding: 10px;">
			<script type="text/javascript"><!--
			google_ad_client = "pub-7098584793170190";
			/* GUJ Quadrado Artigos */
			google_ad_slot = "2113535366";
			google_ad_width = 300;
			google_ad_height = 250;
			//-->
			</script> 
			<script type="text/javascript" src="./Enviando Emails_files/show_ads.js"> 
			</script><ins style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px"><iframe allowtransparency="true" frameborder="0" height="250" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){i+=&#39;.call&#39;;setTimeout(h,0)}else if(h.match){i+=&#39;.nav&#39;;w.location.replace(h)}s.log&amp;&amp;s.log.push(i)}" scrolling="no" vspace="0" width="300" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
		</div>
	      
	      <span class="content"><page>
<div id="subtitle"><b>Introdução</b></div>
Muitas vezes precisamos disparar uma sequência de emails para os nossos clientes, avisando sobre promoções ou notificando os mais diversos assuntos.

Queremos mostrar aqui como utilizar o pacote javax.mail, que fazem parte do J2EE. Como faz parte do J2EE, ele não vem junto com o seu J2SDK.

Esse tutorial é bem simples!

<div id="subtitle"><b>A biblioteca</b></div>
Antes de mais nada, você precisa pegar o .jar que contém a biblioteca javamail. Se você ainda não a tem, baixe ela em: 

<a href="http://java.sun.com/products/javamail/index.html" target="_blank">http://java.sun.com/products/javamail/index.html</a>

Após extrair o .jar do pacote, coloque a biblioteca no seu classpath, ou no lib da sua aplicação web.

O mail.jar fornece diversas funcionalidades, não apenas a de enviar email, mas vamos nos focar nesta aplicação. Lembre-se sempre de utilizar a documentação da API:

<a href="http://java.sun.com/j2ee/sdk_1.3/techdocs/api/" target="_blank">http://java.sun.com/j2ee/sdk_1.3/techdocs/api/</a>

</page>
<page>
<div id="subtitle"><b>A API</b></div>
Agora vamos ver exemplos básicos de como a API funciona:

Primeiro precisamos criar uma Properties, para armazenar alguns dados que serão utilizados para o envio do email. A informação principal é o servidor SMTP a ser utilizado.

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Properties&nbsp;p&nbsp;=&nbsp;</span><span class="keyword">new</span><span>&nbsp;Properties();&nbsp;&nbsp;</span></span></li><li class=""><span>p.put(<span class="string">"mail.host"</span><span>,&nbsp;</span><span class="string">"smtp2.locaweb.com.br"</span><span>);&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">Properties p = new Properties();
p.put("mail.host", "smtp2.locaweb.com.br");
</textarea> <br>

Mas porque colocar esse tipo de informação em um <i>java.util.Properties</i>? Pois precisamos pegar uma "sessão de envio de email", e esta sessão pede várias propriedades, e essas propriedades podem mudar de acordo com o avanço do protocolo de email. O java não quer ficar atrelado a uma versão do protocolo, e ter de mudar a API toda vez que o protocolo mudar!

A palavra sessão pode soar estranho, mas esse nome para uma classe aparece sempre quando você quer compartilhar dados.

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span>Session&nbsp;session&nbsp;=&nbsp;Session.getInstance(p,&nbsp;</span><span class="keyword">null</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>MimeMessage&nbsp;msg&nbsp;=&nbsp;<span class="keyword">new</span><span>&nbsp;MimeMessage(session);&nbsp;&nbsp;</span></span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">Session session = Session.getInstance(p, null);
MimeMessage msg = new MimeMessage(session);
</textarea> <br>

</page>
<page>
Pegamos a sessão, com as propriedades escolhidas. O segundo argumento é null porque sabemos que nosso smtp não precisa de autenticação para enviar email. Caso você precise de autenticação, consulte a classe <i>java.mail.Authenticator</i>.

Depois criamos uma mensagem, é a mensagem que iremos enviar! Vamos começar a preparar os parâmetros da mensagem.

<br> <div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.guj.com.br/articles/21#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-j"><li class="alt"><span><span class="keyword">try</span><span>&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;"de"&nbsp;e&nbsp;"para"!!</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;msg.setFrom(<span class="keyword">new</span><span>&nbsp;InternetAddress(</span><span class="string">"nos@guj.com.br"</span><span>));&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;msg.setRecipient(Message.RecipientType.TO,&nbsp;<span class="keyword">new</span><span>&nbsp;InternetAddress(</span><span class="string">"voces@guj.com.br"</span><span>));&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;nao&nbsp;esqueca&nbsp;da&nbsp;data!</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;ou&nbsp;ira&nbsp;31/12/1969&nbsp;!!!</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;msg.setSentDate(<span class="keyword">new</span><span>&nbsp;Date());&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;msg.setSubject(<span class="string">"assunto&nbsp;da&nbsp;mensagem"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;msg.setText(<span class="string">"corpo&nbsp;da&nbsp;mensagem"</span><span>);&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;evniando&nbsp;mensagem&nbsp;(tentando)</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Transport.send(msg);&nbsp;&nbsp;</span></li><li class=""><span>}&nbsp;&nbsp;</span></li><li class="alt"><span><span class="keyword">catch</span><span>&nbsp;(AddressException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;nunca&nbsp;deixe&nbsp;catches&nbsp;vazios!</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>}&nbsp;&nbsp;</span></li><li class=""><span><span class="keyword">catch</span><span>&nbsp;(MessagingException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;nunca&nbsp;deixe&nbsp;catches&nbsp;vazios!</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>}&nbsp;&nbsp;</span></li></ol></div><textarea name="code" class="java" cols="60" rows="10" style="display: none; ">try {
	// "de" e "para"!!
	msg.setFrom(new InternetAddress("nos@guj.com.br"));
	msg.setRecipient(Message.RecipientType.TO, new InternetAddress("voces@guj.com.br"));

	// nao esqueca da data!
	// ou ira 31/12/1969 !!!
	msg.setSentDate(new Date());

	msg.setSubject("assunto da mensagem");

	msg.setText("corpo da mensagem");

	// evniando mensagem (tentando)
	Transport.send(msg);
}
catch (AddressException e) {
	// nunca deixe catches vazios!
}
catch (MessagingException e) {
	// nunca deixe catches vazios!
}
</textarea> <br>

Muito simples não? O From e o Recipient utilizam a classe <i>javax.mail.internet.InternetAddress</i>, já que o método recebe um <i>javax.mail.Address</i>.

Você ainda tem de tomar cuidado com o endereço de email que está criando (ter o @, etc...), e ver se a mensagem foi enviada, por isso tem essas exceções que podem ser lançadas! 

<div id="subtitle"><b>Conclusão</b></div>
Agora você está apto a enviar emails pelo Java. Existem ainda muitos outros recursos que o javamail disponibiliza, e você pode consultá-los na documentação em pdf que acompanha o pacote.

Você deve dar atenção especial a internacionalização: isto é, usar outros encodings para mandar a mensagem, e também deve dar uma olhada em como mandar multipart, que é quando você quer atachar algum arquivo ou outro tipo de conteúdo ao email.

Você pode baixar o Spammer.java do Rafael Steil neste tutorial, para ver como funciona, em uma simplíssima aplicação do javamail, e fácil de entender.

<i>Lembre-se: não faça SPAM! Mande emails somente com autorização. Hoje em dia o volume de emails é tão grande, que o SPAM machuca a imagem do seu serviço e da sua empresa!</i>
</page></span>
    

    <span class="pdf">
    
    </span>
  </div>
  </div>
	<b class="spiffy"><b class="spiffy5"></b><b class="spiffy4"></b><b class="spiffy3"></b><b class="spiffy2"><b></b></b><b class="spiffy1"><b></b></b></b>
</div>

</div>


<!-- OAS AD 'x01' begin -->
<script language="JavaScript">
<!--
OAS_AD('x01');
//-->
</script><a href="http://media.realmedia.com.br/RealMedia/ads/click_lx.ads/guj/internas/1798209336/x01/default/empty.gif/76556850786b3433424b5141416b3576" target="_top"><img src="./Enviando Emails_files/empty.gif" width="1" height="1" alt="" border="0"></a>
<!-- OAS AD 'x01' end -->

<iframe src="./Enviando Emails_files/ping_session.htm" height="0" width="0" frameborder="0" scrolling="no"></iframe>
  <div id="footer">
  	<p>Apoiado e desenvolvido por <a href="http://www.caelum.com.br/">Caelum Cursos Java</a> - GUJ: desde 2002 <br> Conheça também <a href="http://www.agendatech.com.br/">AgendaTech</a>, <a href="http://www.tectura.com.br/">Tectura</a>, <a href="http://www.programadorpoliglota.com.br/">Programador Poliglota</a> e <a href="http://www.infoq.com/br">InfoQ Brasil</a>&nbsp;</p>
  </div>
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Enviando Emails_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-132222-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  

<div class="SkipThisFixedPosition top-iframe-wrapper" style="width: 100%; height: 34px; position: fixed; top: 0px !important; left: 0px; z-index: 99997; "><iframe style="width:100%;height:34px;top:0px;left:0px;" src="./Enviando Emails_files/container.htm" scrolling="no" class="toolbarContainer" frameborder="0px" id="CWTBiframe0"></iframe></div><div id="mainContainer_CTID"><div class="fixedDiv SkipThisFixedPosition UrlGadgetsDiv" style="position: fixed; left: 0px; top: 34px !important; z-index: 2147483640; "></div><div class="fixedDiv SkipThisFixedPosition GeneralGadgetsDiv" style="position: fixed; left: 0px; top: 34px !important; z-index: 2147483640; width: 100%; "></div></div></body></html>